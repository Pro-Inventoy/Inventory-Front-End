{"ast":null,"code":"'use strict';\n\nfunction dePalette(indata, outdata, width, height, palette) {\n  var pxPos = 0; // use values from palette\n\n  for (var y = 0; y < height; y++) {\n    for (var x = 0; x < width; x++) {\n      var color = palette[indata[pxPos]];\n\n      if (!color) {\n        throw new Error('index ' + indata[pxPos] + ' not in palette');\n      }\n\n      for (var i = 0; i < 4; i++) {\n        outdata[pxPos + i] = color[i];\n      }\n\n      pxPos += 4;\n    }\n  }\n}\n\nfunction replaceTransparentColor(indata, outdata, width, height, transColor) {\n  var pxPos = 0;\n\n  for (var y = 0; y < height; y++) {\n    for (var x = 0; x < width; x++) {\n      var makeTrans = false;\n\n      if (transColor.length === 1) {\n        if (transColor[0] === indata[pxPos]) {\n          makeTrans = true;\n        }\n      } else if (transColor[0] === indata[pxPos] && transColor[1] === indata[pxPos + 1] && transColor[2] === indata[pxPos + 2]) {\n        makeTrans = true;\n      }\n\n      if (makeTrans) {\n        for (var i = 0; i < 4; i++) {\n          outdata[pxPos + i] = 0;\n        }\n      }\n\n      pxPos += 4;\n    }\n  }\n}\n\nfunction scaleDepth(indata, outdata, width, height, depth) {\n  var maxOutSample = 255;\n  var maxInSample = Math.pow(2, depth) - 1;\n  var pxPos = 0;\n\n  for (var y = 0; y < height; y++) {\n    for (var x = 0; x < width; x++) {\n      for (var i = 0; i < 4; i++) {\n        outdata[pxPos + i] = Math.floor(indata[pxPos + i] * maxOutSample / maxInSample + 0.5);\n      }\n\n      pxPos += 4;\n    }\n  }\n}\n\nmodule.exports = function (indata, imageData) {\n  var depth = imageData.depth;\n  var width = imageData.width;\n  var height = imageData.height;\n  var colorType = imageData.colorType;\n  var transColor = imageData.transColor;\n  var palette = imageData.palette;\n  var outdata = indata; // only different for 16 bits\n\n  if (colorType === 3) {\n    // paletted\n    dePalette(indata, outdata, width, height, palette);\n  } else {\n    if (transColor) {\n      replaceTransparentColor(indata, outdata, width, height, transColor);\n    } // if it needs scaling\n\n\n    if (depth !== 8) {\n      // if we need to change the buffer size\n      if (depth === 16) {\n        outdata = new Buffer(width * height * 4);\n      }\n\n      scaleDepth(indata, outdata, width, height, depth);\n    }\n  }\n\n  return outdata;\n};","map":{"version":3,"names":["dePalette","indata","outdata","width","height","palette","pxPos","y","x","color","Error","i","replaceTransparentColor","transColor","makeTrans","length","scaleDepth","depth","maxOutSample","maxInSample","Math","pow","floor","module","exports","imageData","colorType","Buffer"],"sources":["C:/Users/khaym/Desktop/finalproject/Inventory-Front-End/node_modules/pngjs/lib/format-normaliser.js"],"sourcesContent":["'use strict';\n\nfunction dePalette(indata, outdata, width, height, palette) {\n  var pxPos = 0;\n  // use values from palette\n  for (var y = 0; y < height; y++) {\n    for (var x = 0; x < width; x++) {\n      var color = palette[indata[pxPos]];\n\n      if (!color) {\n        throw new Error('index ' + indata[pxPos] + ' not in palette');\n      }\n\n      for (var i = 0; i < 4; i++) {\n        outdata[pxPos + i] = color[i];\n      }\n      pxPos += 4;\n    }\n  }\n}\n\nfunction replaceTransparentColor(indata, outdata, width, height, transColor) {\n  var pxPos = 0;\n  for (var y = 0; y < height; y++) {\n    for (var x = 0; x < width; x++) {\n      var makeTrans = false;\n\n      if (transColor.length === 1) {\n        if (transColor[0] === indata[pxPos]) {\n          makeTrans = true;\n        }\n      }\n      else if (transColor[0] === indata[pxPos] && transColor[1] === indata[pxPos + 1] && transColor[2] === indata[pxPos + 2]) {\n        makeTrans = true;\n      }\n      if (makeTrans) {\n        for (var i = 0; i < 4; i++) {\n          outdata[pxPos + i] = 0;\n        }\n      }\n      pxPos += 4;\n    }\n  }\n}\n\nfunction scaleDepth(indata, outdata, width, height, depth) {\n  var maxOutSample = 255;\n  var maxInSample = Math.pow(2, depth) - 1;\n  var pxPos = 0;\n\n  for (var y = 0; y < height; y++) {\n    for (var x = 0; x < width; x++) {\n      for (var i = 0; i < 4; i++) {\n        outdata[pxPos + i] = Math.floor((indata[pxPos + i] * maxOutSample) / maxInSample + 0.5);\n      }\n      pxPos += 4;\n    }\n  }\n}\n\nmodule.exports = function(indata, imageData) {\n\n  var depth = imageData.depth;\n  var width = imageData.width;\n  var height = imageData.height;\n  var colorType = imageData.colorType;\n  var transColor = imageData.transColor;\n  var palette = imageData.palette;\n\n  var outdata = indata; // only different for 16 bits\n\n  if (colorType === 3) { // paletted\n    dePalette(indata, outdata, width, height, palette);\n  }\n  else {\n    if (transColor) {\n      replaceTransparentColor(indata, outdata, width, height, transColor);\n    }\n    // if it needs scaling\n    if (depth !== 8) {\n      // if we need to change the buffer size\n      if (depth === 16) {\n        outdata = new Buffer(width * height * 4);\n      }\n      scaleDepth(indata, outdata, width, height, depth);\n    }\n  }\n  return outdata;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}