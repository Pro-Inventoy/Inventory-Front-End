{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\khaym\\\\Desktop\\\\finalproject\\\\Inventory-Front-End\\\\src\\\\components\\\\Scanner\\\\Scanner.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect } from 'react';\nimport './Scanner.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Scanner() {\n  _s();\n\n  const photoRef = useRef(null);\n  const videoRef = useRef(null);\n  const [hasPhoto, setHasPhoto] = useState(false);\n\n  const handleCamera = () => {\n    navigator.mediaDevices.getUserMedia({\n      video: {\n        width: 1920,\n        height: 1080\n      }\n    }).then(stream => {\n      let video = videoRef.current;\n      video.srcObject = stream;\n      video.play();\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n\n  const handlePhoto = () => {\n    const width = 414;\n    const height = width / (16 / 9);\n    let video = videoRef.current;\n    let photo = photoRef.current;\n    photo.width = width;\n    photo.height = height;\n    let ctx = photo.getContext('2d');\n    ctx.drawImage(video, 0, 0, width, height);\n    setHasPhoto(true);\n  };\n\n  useEffect(() => {\n    handleCamera();\n  }, [videoRef]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"camera\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePhoto,\n        className: \"capture\",\n        children: \"O\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'result' + (hasPhoto ? 'hasPhoto' : ''),\n      children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: photoRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"\\u274C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Scanner, \"ET2igZg2YF00Kl+gG0dlgWnvqRY=\");\n\n_c = Scanner;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"Scanner\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Scanner","photoRef","videoRef","hasPhoto","setHasPhoto","handleCamera","navigator","mediaDevices","getUserMedia","video","width","height","then","stream","current","srcObject","play","catch","err","console","error","handlePhoto","photo","ctx","getContext","drawImage"],"sources":["C:/Users/khaym/Desktop/finalproject/Inventory-Front-End/src/components/Scanner/Scanner.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport './Scanner.css'\r\n\r\nexport default function Scanner() {\r\n\r\n    const photoRef = useRef(null);   \r\n    const videoRef = useRef(null);\r\n    \r\n    const [hasPhoto, setHasPhoto] = useState(false);\r\n    const handleCamera = () => {navigator.mediaDevices\r\n        .getUserMedia({ \r\n            video: { width: 1920, height: 1080}\r\n        })\r\n        .then(stream => {\r\n            let video = videoRef.current;\r\n            video.srcObject = stream;\r\n            video.play();\r\n        })\r\n        .catch( err => {\r\n            console.error(err)\r\n        })\r\n    };\r\n    const handlePhoto = () => {\r\n        const width = 414;\r\n        const height = width / (16/9);\r\n\r\n        let video = videoRef.current;\r\n        let photo = photoRef.current;\r\n\r\n        photo.width = width;\r\n        photo.height = height;\r\n        let ctx = photo.getContext('2d');\r\n        ctx.drawImage(video, 0, 0, width, height);\r\n        setHasPhoto(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        handleCamera();\r\n    }, [videoRef])\r\n    \r\n    return(\r\n        <>\r\n            <div className='camera'>\r\n                <video ref={videoRef}></video>\r\n                <button onClick={handlePhoto} className='capture'>O</button>\r\n            </div>\r\n            <div className={'result' + (hasPhoto ? 'hasPhoto' : '')}>\r\n                <canvas ref={photoRef}></canvas>\r\n                <button>‚ùå</button>\r\n            </div>\r\n    </>\r\n)};"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,OAAO,eAAP;;;AAEA,eAAe,SAASC,OAAT,GAAmB;EAAA;;EAE9B,MAAMC,QAAQ,GAAGJ,MAAM,CAAC,IAAD,CAAvB;EACA,MAAMK,QAAQ,GAAGL,MAAM,CAAC,IAAD,CAAvB;EAEA,MAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,KAAD,CAAxC;;EACA,MAAMO,YAAY,GAAG,MAAM;IAACC,SAAS,CAACC,YAAV,CACvBC,YADuB,CACV;MACVC,KAAK,EAAE;QAAEC,KAAK,EAAE,IAAT;QAAeC,MAAM,EAAE;MAAvB;IADG,CADU,EAIvBC,IAJuB,CAIlBC,MAAM,IAAI;MACZ,IAAIJ,KAAK,GAAGP,QAAQ,CAACY,OAArB;MACAL,KAAK,CAACM,SAAN,GAAkBF,MAAlB;MACAJ,KAAK,CAACO,IAAN;IACH,CARuB,EASvBC,KATuB,CAShBC,GAAG,IAAI;MACXC,OAAO,CAACC,KAAR,CAAcF,GAAd;IACH,CAXuB;EAY3B,CAZD;;EAaA,MAAMG,WAAW,GAAG,MAAM;IACtB,MAAMX,KAAK,GAAG,GAAd;IACA,MAAMC,MAAM,GAAGD,KAAK,IAAI,KAAG,CAAP,CAApB;IAEA,IAAID,KAAK,GAAGP,QAAQ,CAACY,OAArB;IACA,IAAIQ,KAAK,GAAGrB,QAAQ,CAACa,OAArB;IAEAQ,KAAK,CAACZ,KAAN,GAAcA,KAAd;IACAY,KAAK,CAACX,MAAN,GAAeA,MAAf;IACA,IAAIY,GAAG,GAAGD,KAAK,CAACE,UAAN,CAAiB,IAAjB,CAAV;IACAD,GAAG,CAACE,SAAJ,CAAchB,KAAd,EAAqB,CAArB,EAAwB,CAAxB,EAA2BC,KAA3B,EAAkCC,MAAlC;IACAP,WAAW,CAAC,IAAD,CAAX;EACH,CAZD;;EAcAL,SAAS,CAAC,MAAM;IACZM,YAAY;EACf,CAFQ,EAEN,CAACH,QAAD,CAFM,CAAT;EAIA,oBACI;IAAA,wBACI;MAAK,SAAS,EAAC,QAAf;MAAA,wBACI;QAAO,GAAG,EAAEA;MAAZ;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAQ,OAAO,EAAEmB,WAAjB;QAA8B,SAAS,EAAC,SAAxC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAKI;MAAK,SAAS,EAAE,YAAYlB,QAAQ,GAAG,UAAH,GAAgB,EAApC,CAAhB;MAAA,wBACI;QAAQ,GAAG,EAAEF;MAAb;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QALJ;EAAA,gBADJ;AAWF;;GAhDsBD,O;;KAAAA,O;AAgDtB"},"metadata":{},"sourceType":"module"}