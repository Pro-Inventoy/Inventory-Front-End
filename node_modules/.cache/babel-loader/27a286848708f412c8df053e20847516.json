{"ast":null,"code":"var parseAttributes = require('./parse-attribs');\n\nvar parseFromString = require('xml-parse-from-string'); //In some cases element.attribute.nodeName can return\n//all lowercase values.. so we need to map them to the correct \n//case\n\n\nvar NAME_MAP = {\n  scaleh: 'scaleH',\n  scalew: 'scaleW',\n  stretchh: 'stretchH',\n  lineheight: 'lineHeight',\n  alphachnl: 'alphaChnl',\n  redchnl: 'redChnl',\n  greenchnl: 'greenChnl',\n  bluechnl: 'blueChnl'\n};\n\nmodule.exports = function parse(data) {\n  data = data.toString();\n  var xmlRoot = parseFromString(data);\n  var output = {\n    pages: [],\n    chars: [],\n    kernings: []\n  } //get config settings\n  ;\n  ['info', 'common'].forEach(function (key) {\n    var element = xmlRoot.getElementsByTagName(key)[0];\n    if (element) output[key] = parseAttributes(getAttribs(element));\n  }); //get page info\n\n  var pageRoot = xmlRoot.getElementsByTagName('pages')[0];\n  if (!pageRoot) throw new Error('malformed file -- no <pages> element');\n  var pages = pageRoot.getElementsByTagName('page');\n\n  for (var i = 0; i < pages.length; i++) {\n    var p = pages[i];\n    var id = parseInt(p.getAttribute('id'), 10);\n    var file = p.getAttribute('file');\n    if (isNaN(id)) throw new Error('malformed file -- page \"id\" attribute is NaN');\n    if (!file) throw new Error('malformed file -- needs page \"file\" attribute');\n    output.pages[parseInt(id, 10)] = file;\n  } //get kernings / chars\n\n\n  ;\n  ['chars', 'kernings'].forEach(function (key) {\n    var element = xmlRoot.getElementsByTagName(key)[0];\n    if (!element) return;\n    var childTag = key.substring(0, key.length - 1);\n    var children = element.getElementsByTagName(childTag);\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n      output[key].push(parseAttributes(getAttribs(child)));\n    }\n  });\n  return output;\n};\n\nfunction getAttribs(element) {\n  var attribs = getAttribList(element);\n  return attribs.reduce(function (dict, attrib) {\n    var key = mapName(attrib.nodeName);\n    dict[key] = attrib.nodeValue;\n    return dict;\n  }, {});\n}\n\nfunction getAttribList(element) {\n  //IE8+ and modern browsers\n  var attribs = [];\n\n  for (var i = 0; i < element.attributes.length; i++) attribs.push(element.attributes[i]);\n\n  return attribs;\n}\n\nfunction mapName(nodeName) {\n  return NAME_MAP[nodeName.toLowerCase()] || nodeName;\n}","map":{"version":3,"names":["parseAttributes","require","parseFromString","NAME_MAP","scaleh","scalew","stretchh","lineheight","alphachnl","redchnl","greenchnl","bluechnl","module","exports","parse","data","toString","xmlRoot","output","pages","chars","kernings","forEach","key","element","getElementsByTagName","getAttribs","pageRoot","Error","i","length","p","id","parseInt","getAttribute","file","isNaN","childTag","substring","children","child","push","attribs","getAttribList","reduce","dict","attrib","mapName","nodeName","nodeValue","attributes","toLowerCase"],"sources":["C:/Users/khaym/Desktop/finalproject/Inventory-Front-End/node_modules/parse-bmfont-xml/lib/browser.js"],"sourcesContent":["var parseAttributes = require('./parse-attribs')\nvar parseFromString = require('xml-parse-from-string')\n\n//In some cases element.attribute.nodeName can return\n//all lowercase values.. so we need to map them to the correct \n//case\nvar NAME_MAP = {\n  scaleh: 'scaleH',\n  scalew: 'scaleW',\n  stretchh: 'stretchH',\n  lineheight: 'lineHeight',\n  alphachnl: 'alphaChnl',\n  redchnl: 'redChnl',\n  greenchnl: 'greenChnl',\n  bluechnl: 'blueChnl'\n}\n\nmodule.exports = function parse(data) {\n  data = data.toString()\n  \n  var xmlRoot = parseFromString(data)\n  var output = {\n    pages: [],\n    chars: [],\n    kernings: []\n  }\n\n  //get config settings\n  ;['info', 'common'].forEach(function(key) {\n    var element = xmlRoot.getElementsByTagName(key)[0]\n    if (element)\n      output[key] = parseAttributes(getAttribs(element))\n  })\n\n  //get page info\n  var pageRoot = xmlRoot.getElementsByTagName('pages')[0]\n  if (!pageRoot)\n    throw new Error('malformed file -- no <pages> element')\n  var pages = pageRoot.getElementsByTagName('page')\n  for (var i=0; i<pages.length; i++) {\n    var p = pages[i]\n    var id = parseInt(p.getAttribute('id'), 10)\n    var file = p.getAttribute('file')\n    if (isNaN(id))\n      throw new Error('malformed file -- page \"id\" attribute is NaN')\n    if (!file)\n      throw new Error('malformed file -- needs page \"file\" attribute')\n    output.pages[parseInt(id, 10)] = file\n  }\n\n  //get kernings / chars\n  ;['chars', 'kernings'].forEach(function(key) {\n    var element = xmlRoot.getElementsByTagName(key)[0]\n    if (!element)\n      return\n    var childTag = key.substring(0, key.length-1)\n    var children = element.getElementsByTagName(childTag)\n    for (var i=0; i<children.length; i++) {      \n      var child = children[i]\n      output[key].push(parseAttributes(getAttribs(child)))\n    }\n  })\n  return output\n}\n\nfunction getAttribs(element) {\n  var attribs = getAttribList(element)\n  return attribs.reduce(function(dict, attrib) {\n    var key = mapName(attrib.nodeName)\n    dict[key] = attrib.nodeValue\n    return dict\n  }, {})\n}\n\nfunction getAttribList(element) {\n  //IE8+ and modern browsers\n  var attribs = []\n  for (var i=0; i<element.attributes.length; i++)\n    attribs.push(element.attributes[i])\n  return attribs\n}\n\nfunction mapName(nodeName) {\n  return NAME_MAP[nodeName.toLowerCase()] || nodeName\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}